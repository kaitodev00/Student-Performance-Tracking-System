body {
    background-color: #f4f4f4;
    font-family: 'Arial', sans-serif;
    margin: 0;
    padding: 0;
}
main {
    display: flex;
    flex-direction: column;
    margin: 80px 0 0 280px;
    min-height: calc(100vh - 150px);
}
.page-title {
    font-size: 24px;
    font-weight: bold;
    color: #333;
    margin-bottom: 10px;
}

.page-subtitle {
    color: #666;
    font-size: 14px;
}

.top-bar {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    padding: 20px;
    margin-left: 40px;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    margin-bottom: 20px;
}

.filters {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
    align-items: center;
}

.filters input[type="search"], .filters select {
    padding: 10px 15px;
    border: 2px solid #e1e5e9;
    border-radius: 8px;
    font-size: 14px;
    background: #f8f9fa;
    transition: all 0.3s ease;
}

.filters input[type="search"]:focus, .filters select:focus {
    outline: none;
    border-color: #2684fc;
    background: #fff;
}

.search-input {
    min-width: 250px;
}

.clear-filters {
    background: #6c757d;
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    transition: background 0.3s ease;
}

.clear-filters:hover {
    background: #5a6268;
}

.faculty-stats {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
}

.stat-card {
    background: #fff;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    flex: 1;
    text-align: center;
}

.stat-number {
    font-size: 28px;
    font-weight: bold;
    color: #2684fc;
}

.stat-label {
    color: #666;
    font-size: 14px;
    margin-top: 5px;
}

.user-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    margin-left: 40px;
    gap: 20px;
    position: relative; 
    z-index: 0;
}

/* Base card style for both faculty and students */
.user-card {
    background-color: #f4f4f4;
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.08);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 18px 20px;
    transition: all 0.3s ease;
    border: 2px solid transparent;
    position: relative;
    z-index: 0;
    min-height: 88px;
}

/* Faculty card accent */
.user-card.role-adviser {
    border-left: 5px solid #1976d2;   
}
.user-card.role-guidance {
    border-left: 5px solid #43a047;  
}
.user-card.role-dean {
    border-left: 5px solid #8e24aa;   
}
.user-card.role-system_admin {
    border-left: 5px solid #ff8f00;   
}
.user-card.role-student {
    border-left: 5px solid #00897b;   
}
.user-card.role-other {
    border-left: 5px solid #9e9e9e;   
}

.user-card:hover {
    transform: translateY(-2px) scale(1.01);
    box-shadow: 0 4px 20px rgba(0,0,0,0.12);
    z-index: 1;
}

.user-card.inactive {
    opacity: 0.6;
    border-color: #dc3545;
}

.profile-picture {
    position: relative;
    margin-right: 16px;
    flex: 0 0 auto;
}

.profile-picture img {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid #e9ecef;
    background: #f5f5f5;
}

.status-indicator {
    position: absolute;
    bottom: 2px;
    right: 2px;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    border: 2px solid white;
}

.status-indicator.active {
    background-color: #28a745;
}

.status-indicator.inactive {
    background-color: #dc3545;
}

.user-content {
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-width: 0;
    flex: 1;
}

.user-content .name {
    font-weight: bold;
    font-size: 15px;
    color: #333;
}

.user-content .role {
    font-size: 12px;
    color: #2684fc;
    font-weight: 500;
}

.user-content .name,
.user-content .email {
    white-space: nowrap;     
    overflow: hidden;         
    text-overflow: ellipsis;        
    display: block;           
}
.user-content .email{
  font-size: 14px;
  color: #666;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: block;
  position: relative;
  max-width: 220px;   /* your current cap */
  cursor: help;    
}

.user-content .email::after{
  content: attr(data-full-email);
  position: absolute;
  left: 0;
  bottom: 100%;
  transform: translateY(-6px);
  background: #333;
  color: #fff;
  padding: 6px 8px;
  border-radius: 6px;
  font-size: 12px;
  white-space: nowrap;
  box-shadow: 0 4px 14px rgba(0,0,0,.18);
  z-index: 1200;

  opacity: 0;
  visibility: hidden;
  transition: opacity .15s ease, visibility .15s ease;
  pointer-events: none; /* don't steal hover */
}

.user-content .email:hover::after,
.user-content .email:focus::after{
  opacity: 1;
  visibility: visible;
}

/* tiny arrow */
.user-content .email::before{
  content: "";
  position: absolute;
  left: 12px;
  bottom: calc(100% - 2px);
  border: 6px solid transparent;
  border-top-color: #333;

  opacity: 0;
  visibility: hidden;
  transition: opacity .15s ease, visibility .15s ease;
  z-index: 1200;
}
.user-content .email:hover::before,
.user-content .email:focus::before{
  opacity: 1;
  visibility: visible;
}

.user-content .spec {
    font-size: 13px;
    color: #666;
    background: #f8f9fa;
    padding: 2px 8px;
    border-radius: 12px;
    display: inline-block;
    width: fit-content;
}

.user-actions {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    flex: 0 0 auto;
}

.role-button {
    background: none;
    border: none;
    color: #2684fc;
    font-size: 12px;
    cursor: pointer;
    text-decoration: none;
    padding: 4px 8px;
    border-radius: 4px;
    transition: all 0.3s ease;
}

.role-button:hover {
    background: #e3f2fd;
    text-decoration: underline;
}

.toggle-switch {
    position: relative;
    width: 44px;
    height: 24px;
}

.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    border-radius: 34px;
    transition: .4s;
}

.slider:before {
    position: absolute;
    content: "";
    height: 18px;
    width: 18px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    border-radius: 50%;
    transition: .4s;
}

input:checked + .slider {
    background-color: #4cd964;
}

input:checked + .slider:before {
    transform: translateX(20px);
}

.add-user{
    display: flex;
    align-items: center;
    justify-content: center;
    width: 55px;
    height: 55px;
    background-color: #2684fc;
    color: white;
    border-radius: 50%;
    position: fixed;
    bottom: 20px;
    right: 50px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    z-index: 1000;  
}

.add-user a {
    margin-left: 2px;
    margin-top: 2px;
    color: white;
}
.no-results {
    text-align: center;
    padding: 60px 30px 10px;
    color: #666;
}

.no-results img {
    width: 120px;
    opacity: 0.5;
    margin-bottom: 20px;
}

.loading {
    text-align: center;
    padding: 40px;
    color: #666;
}

/* Role Modal */
.modal-backdrop {
    position: fixed; inset: 0;
    background: rgba(0,0,0,0.4);
    display: flex; align-items: center; justify-content: center;
    z-index: 1200;
    transition: background .2s;
}
.modal-content.improved {
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.17);
    padding: 2em 2.2em 1.3em;
    min-width: 330px;
    max-width: 95vw;
    position: relative;
    animation: modalPop 0.20s cubic-bezier(.18,.87,.51,1.1);
}
.modal-content.improved h5 {
    font-size: 15px;
    margin-bottom: 20px;
    text-align: center;
    color: #333;
}
.modal-content.improved form {
    text-align: center;
    margin-top: 10px;
    font-weight: 600;
}
.modal-content.improved select {
    width: 200px;
    padding: 10px;
    border-radius: 8px;
    border: 2px solid #e1e5e9;
    font-size: 14px;
    background: #f8f9fa;
    transition: all 0.3s ease;
}
.modal-content.improved option {
    padding: 10px;
    font-size: 14px;
    color: #333;
    background: #f8f9fa;
}
.modal-content.improved button {
    margin-top: 30px;
    width: 100%;
    padding: 10px;
    border-radius: 8px;
    border: none;
    background: #2684fc;
    color: white;
    font-size: 14px;
    cursor: pointer;
    transition: background 0.3s ease;
}
.modal-content.improved button:hover {
    background: #1c6dd0;
}
@keyframes modalPop {
    from { transform: scale(.97) translateY(30px); opacity: 0;}
    to { transform: scale(1) translateY(0); opacity: 1;}
}
@keyframes shake {
    0% { transform: translateX(0);}
    25% { transform: translateX(-8px);}
    50% { transform: translateX(8px);}
    75% { transform: translateX(-6px);}
    100% { transform: translateX(0);}
}
#roleModal select:focus, #roleModal button:focus {
    outline: 2px solid #2684fc;
    outline-offset: 1px;
}
#modalUpdateSpinner .fa-spinner {
    color: #2684fc;
}
.modal-content.error {
    animation: shake 0.35s;
}
#roleModalSuccess, #roleModalError {
    transition: opacity 0.3s;
    opacity: 1;
}
#roleModalSuccess[style*="display: none"], #roleModalError[style*="display: none"] {
    opacity: 0;
}
.close {
    position: absolute; top: 10px; right: 18px;
    font-size: 1.4em; color: #555; cursor: pointer;
    font-weight: bold;
    transition: color 0.2s;
}
.close:hover { color: #E74C3C; }
#roleModalSuccess {
    color: #27ae60 !important;
    text-align: center;
    font-weight: bold;
}
.role-system_admin { color: #ff8f00; font-weight: bold;}
.role-student { color: #00897b;}
.role-adviser { color: #1976d2;}
.role-dean { color: #8e24aa;}
.role-guidance { color: #43a047;}

.btn {
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.3s ease;
}

.btn-primary {
    background: #2684fc;
    color: white;
}

.btn-primary:hover {
    background: #1c6dd0;
}

.btn-secondary {
    background: #6c757d;
    color: white;
}

.btn-secondary:hover {
    background: #5a6268;
}

@media (max-width: 900px) {
    main {
        margin: 100px 10px 20px 10px;
    }
    .top-bar {
        margin-left: 0;
        padding: 12px;
    }
    .user-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 600px) {
    .modal-content {
        min-width: 95vw;
        padding: 18px 6px;
    }
    .top-bar {
        flex-direction: column;
        align-items: stretch;
        gap: 10px;
    }
    .filters {
        flex-direction: column;
        gap: 10px;
    }
    .user-card {
        flex-direction: column;
        align-items: flex-start;
        padding: 14px 10px;
        gap: 6px;
    }
}
